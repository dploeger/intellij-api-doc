<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.4) on Fri Mar 13 21:16:19 UTC 2020 -->
<title>NonBlockingReadAction (Unofficial IntelliJ Community Edition API docs)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="date" content="2020-03-13">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NonBlockingReadAction (Unofficial IntelliJ Community Edition API docs)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":50,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/intellij/openapi/application/ModalityStateListener.html" title="interface in com.intellij.openapi.application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/intellij/openapi/application/PathMacroContributor.html" title="interface in com.intellij.openapi.application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/intellij/openapi/application/NonBlockingReadAction.html" target="_top">Frames</a></li>
<li><a href="NonBlockingReadAction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInClass">Package</span>&nbsp;<a href="../../../../com/intellij/openapi/application/package-summary.html" target="classFrame">com.intellij.openapi.application</a></div>
<h2 title="Interface NonBlockingReadAction" class="title">Interface NonBlockingReadAction&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../com/intellij/openapi/application/impl/NonBlockingReadActionImpl.html" title="class in com.intellij.openapi.application.impl">NonBlockingReadActionImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">NonBlockingReadAction&lt;T&gt;</span></pre>
<div class="block">A utility for running non-blocking read actions in background thread.
 "Non-blocking" means that to prevent UI freezes, when a write action is about to occur, a read action can be interrupted by a
 <a href="../../../../com/intellij/openapi/progress/ProcessCanceledException.html" title="class in com.intellij.openapi.progress"><code>ProcessCanceledException</code></a> and then restarted.
 Code blocks running inside should be prepared to get this exception at any moment,
 and they should call <a href="../../../../com/intellij/openapi/progress/ProgressManager.html#checkCanceled--"><code>ProgressManager.checkCanceled()</code></a> or <a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html#checkCanceled--"><code>ProgressIndicator.checkCanceled()</code></a> frequently enough.
 They should also be side-effect-free or at least idempotent, to avoid consistency issues when interrupted in the middle and restarted.
 <p></p>
 The recommended usage is <code>ReadAction.nonBlocking(...).withXxx()....finishOnUiThread(...).submit(...)</code>.
 It's the only way that allows to access the computation result safely. The alternatives
 (e.g. <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#executeSynchronously--"><code>executeSynchronously()</code></a>, <a href="../../../../org/jetbrains/concurrency/Promise.html" title="interface in org.jetbrains.concurrency"><code>Promise</code></a> methods) mean that you might get the computation result
 in a background thread after a read action is finished, so a write action can then occur at any time and make the result outdated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/intellij/openapi/application/ReadAction.html#nonBlocking-java.lang.Runnable-"><code>ReadAction.nonBlocking(java.lang.Runnable)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#cancelWith-com.intellij.openapi.progress.ProgressIndicator-">cancelWith</a></span>(<a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html" title="interface in com.intellij.openapi.progress">ProgressIndicator</a>&nbsp;progressIndicator)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">use <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#wrapProgress-com.intellij.openapi.progress.ProgressIndicator-"><code>wrapProgress(com.intellij.openapi.progress.ProgressIndicator)</code></a></span></div>
</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#coalesceBy-java.lang.Object...-">coalesceBy</a></span>(java.lang.Object...&nbsp;equality)</code>
<div class="block">Merges together similar computations by cancelling the previous ones when a new one is submitted.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#executeSynchronously--">executeSynchronously</a></span>()</code>
<div class="block">Run this computation on the current thread in a non-blocking read action, when possible.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#expireWhen-java.util.function.BooleanSupplier-">expireWhen</a></span>(java.util.function.BooleanSupplier&nbsp;expireCondition)</code>
<div class="block">Returns a copy of this builder that cancels submitted read actions after they become obsolete.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#expireWith-com.intellij.openapi.Disposable-">expireWith</a></span>(<a href="../../../../com/intellij/openapi/Disposable.html" title="interface in com.intellij.openapi">Disposable</a>&nbsp;parentDisposable)</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-">finishOnUiThread</a></span>(<a href="../../../../com/intellij/openapi/application/ModalityState.html" title="class in com.intellij.openapi.application">ModalityState</a>&nbsp;modality,
                java.util.function.Consumer&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;uiThreadAction)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#inSmartMode-com.intellij.openapi.project.Project-">inSmartMode</a></span>(<a href="../../../../com/intellij/openapi/project/Project.html" title="interface in com.intellij.openapi.project">Project</a>&nbsp;project)</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/jetbrains/concurrency/CancellablePromise.html" title="interface in org.jetbrains.concurrency">CancellablePromise</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#submit-java.util.concurrent.Executor-">submit</a></span>(java.util.concurrent.Executor&nbsp;backgroundThreadExecutor)</code>
<div class="block">Submit this computation to be performed in a non-blocking read action on background thread.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#withDocumentsCommitted-com.intellij.openapi.project.Project-">withDocumentsCommitted</a></span>(<a href="../../../../com/intellij/openapi/project/Project.html" title="interface in com.intellij.openapi.project">Project</a>&nbsp;project)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#wrapProgress-com.intellij.openapi.progress.ProgressIndicator-">wrapProgress</a></span>(<a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html" title="interface in com.intellij.openapi.progress">ProgressIndicator</a>&nbsp;progressIndicator)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="inSmartMode-com.intellij.openapi.project.Project-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inSmartMode</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;inSmartMode(<a href="../../../../com/intellij/openapi/project/Project.html" title="interface in com.intellij.openapi.project">Project</a>&nbsp;project)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder that runs read actions only when index is available in the given project.
 The operation is canceled if the project is closed before either the background computation or <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> runnable
 are completed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/intellij/openapi/project/DumbService.html" title="class in com.intellij.openapi.project"><code>DumbService</code></a></dd>
</dl>
</li>
</ul>
<a name="withDocumentsCommitted-com.intellij.openapi.project.Project-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withDocumentsCommitted</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;withDocumentsCommitted(<a href="../../../../com/intellij/openapi/project/Project.html" title="interface in com.intellij.openapi.project">Project</a>&nbsp;project)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder that runs read actions only when all documents are committed.
 The operation is canceled if the project is closed before either the background computation or <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> runnable
 are completed.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/intellij/psi/PsiDocumentManager.html" title="class in com.intellij.psi"><code>PsiDocumentManager</code></a></dd>
</dl>
</li>
</ul>
<a name="expireWhen-java.util.function.BooleanSupplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireWhen</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;expireWhen(java.util.function.BooleanSupplier&nbsp;expireCondition)</pre>
<div class="block">Returns a copy of this builder that cancels submitted read actions after they become obsolete.
 An action is considered obsolete if any of the conditions provided using <code>expireWhen</code> returns <code>true</code>).
 <p></p>
 The conditions are checked when read access is allowed, before the computation on a background thread
 and before <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> handler, if any.
 <p></p>
 Even if the expiration condition becomes <code>true</code> without a write action during the background computation,
 it won't be checked until the computation is complete.
 Hence if you want to cancel the computation immediately, you should handle that separately
 (e.g. by putting <a href="../../../../org/jetbrains/concurrency/CancellablePromise.html#cancel--"><code>CancellablePromise.cancel()</code></a> inside some listener).</div>
</li>
</ul>
<a name="cancelWith-com.intellij.openapi.progress.ProgressIndicator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cancelWith</h4>
<pre>@Deprecated
default&nbsp;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;cancelWith(<a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html" title="interface in com.intellij.openapi.progress">ProgressIndicator</a>&nbsp;progressIndicator)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">use <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#wrapProgress-com.intellij.openapi.progress.ProgressIndicator-"><code>wrapProgress(com.intellij.openapi.progress.ProgressIndicator)</code></a></span></div>
</li>
</ul>
<a name="wrapProgress-com.intellij.openapi.progress.ProgressIndicator-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wrapProgress</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;wrapProgress(<a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html" title="interface in com.intellij.openapi.progress">ProgressIndicator</a>&nbsp;progressIndicator)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder that synchronizes the specified progress indicator with the inner one created by <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application"><code>NonBlockingReadAction</code></a>.
 This means that submitted read actions are cancelled once the outer indicator is cancelled,
 and the visual changes (e.g. <a href="../../../../com/intellij/openapi/progress/ProgressIndicator.html#setText-java.lang.String-"><code>ProgressIndicator.setText(java.lang.String)</code></a>) are propagated from the inner to the outer indicator.</dd>
</dl>
</li>
</ul>
<a name="expireWith-com.intellij.openapi.Disposable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireWith</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;expireWith(<a href="../../../../com/intellij/openapi/Disposable.html" title="interface in com.intellij.openapi">Disposable</a>&nbsp;parentDisposable)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder that cancels submitted read actions once the specified disposable is disposed.
 In that case the corresponding <a href="../../../../org/jetbrains/concurrency/CancellablePromise.html" title="interface in org.jetbrains.concurrency"><code>CancellablePromise</code></a> will be canceled immediately, its completion handlers will be called.
 Currently running background computations will throw a <a href="../../../../com/intellij/openapi/progress/ProcessCanceledException.html" title="class in com.intellij.openapi.progress"><code>ProcessCanceledException</code></a> on the next <code>checkCanceled</code> call,
 and if computations or <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> handlers are scheduled, they won't be executed.</dd>
</dl>
</li>
</ul>
<a name="finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishOnUiThread</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;finishOnUiThread(<a href="../../../../com/intellij/openapi/application/ModalityState.html" title="class in com.intellij.openapi.application">ModalityState</a>&nbsp;modality,
                                          java.util.function.Consumer&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;uiThreadAction)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder that completes submitted read actions on UI thread with the given modality state.
 The read actions are still executed on background thread, but the callbacks on their completion
 are invoked on UI thread, and no write action is allowed to interfere before that and possibly invalidate the result.</dd>
</dl>
</li>
</ul>
<a name="coalesceBy-java.lang.Object...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>coalesceBy</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="interface in com.intellij.openapi.application">NonBlockingReadAction</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;coalesceBy(java.lang.Object...&nbsp;equality)</pre>
<div class="block">Merges together similar computations by cancelling the previous ones when a new one is submitted.
 This can be useful when the results of the previous computation won't make sense anyway in the changed environment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>equality</code> - objects that together identify the computation: if they're all equal in two submissions,
                 then the computations are merged. Callers should take care to pass something unique there
                 (e.g. some <a href="../../../../com/intellij/openapi/util/Key.html" title="class in com.intellij.openapi.util"><code>Key</code></a> or <code>this</code> <code>getClass()</code>),
                 so that computations from different places won't interfere.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a copy of this builder which, when submitted, cancels previously submitted running computations with equal equality objects</dd>
</dl>
</li>
</ul>
<a name="submit-java.util.concurrent.Executor-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submit</h4>
<pre><a href="../../../../org/jetbrains/concurrency/CancellablePromise.html" title="interface in org.jetbrains.concurrency">CancellablePromise</a>&lt;<a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&gt;&nbsp;submit(java.util.concurrent.Executor&nbsp;backgroundThreadExecutor)</pre>
<div class="block">Submit this computation to be performed in a non-blocking read action on background thread. The returned promise
 is completed on the same thread (in the same read action), or on UI thread if <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> has been called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>backgroundThreadExecutor</code> - an executor to actually run the computation. Common examples are
                                 <code>com.intellij.util.concurrency.NonUrgentExecutor#getInstance()</code> or
                                 <a href="../../../../com/intellij/util/concurrency/AppExecutorUtil.html#getAppExecutorService--"><code>AppExecutorUtil.getAppExecutorService()</code></a> or
                                 <a href="../../../../com/intellij/util/concurrency/BoundedTaskExecutor.html" title="class in com.intellij.util.concurrency"><code>BoundedTaskExecutor</code></a> on top of that.</dd>
</dl>
</li>
</ul>
<a name="executeSynchronously--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>executeSynchronously</h4>
<pre><a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html" title="type parameter in NonBlockingReadAction">T</a>&nbsp;executeSynchronously()
                throws <a href="../../../../com/intellij/openapi/progress/ProcessCanceledException.html" title="class in com.intellij.openapi.progress">ProcessCanceledException</a></pre>
<div class="block">Run this computation on the current thread in a non-blocking read action, when possible.
 Note: this method can throw various exceptions (see "Throws" section)
 and can block the current thread for an indefinite amount of time with just waiting,
 which can lead to thread starvation or unnecessary thread pool expansion.
 Besides that, after a read action is finished, a write action in another thread can occur at any time and make the
 just computed value obsolete.
 Therefore, it's advised to use asynchronous <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#submit-java.util.concurrent.Executor-"><code>submit(java.util.concurrent.Executor)</code></a> API where possible,
 preferably coupled with <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> to ensure result validity.<p></p>

 If the current thread already has read access, the computation is executed as is, without any write-action-cancellability.
 It's the responsibility of the caller to take care about it.<p></p>

 <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#finishOnUiThread-com.intellij.openapi.application.ModalityState-java.util.function.Consumer-"><code>finishOnUiThread(com.intellij.openapi.application.ModalityState, java.util.function.Consumer&lt;T&gt;)</code></a> and <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#coalesceBy-java.lang.Object...-"><code>coalesceBy(java.lang.Object...)</code></a> are not supported with synchronous non-blocking read actions.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the computation</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/intellij/openapi/progress/ProcessCanceledException.html" title="class in com.intellij.openapi.progress">ProcessCanceledException</a></code> - if the computation got expired due to <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#expireWhen-java.util.function.BooleanSupplier-"><code>expireWhen(java.util.function.BooleanSupplier)</code></a> or <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#expireWith-com.intellij.openapi.Disposable-"><code>expireWith(com.intellij.openapi.Disposable)</code></a> or <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#wrapProgress-com.intellij.openapi.progress.ProgressIndicator-"><code>wrapProgress(com.intellij.openapi.progress.ProgressIndicator)</code></a>.</dd>
<dd><code>java.lang.IllegalStateException</code> - if current thread already has read access and the constraints (e.g. <a href="../../../../com/intellij/openapi/application/NonBlockingReadAction.html#inSmartMode-com.intellij.openapi.project.Project-"><code>inSmartMode(com.intellij.openapi.project.Project)</code></a> are not satisfied)</dd>
<dd><code>java.lang.RuntimeException</code> - when the computation throws an exception. If it's a checked one, it's wrapped into a <code>RuntimeException</code>.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><p>This is <b>unofficial</b> documentation and <b>not affiliated with Jetbrains s.r.o.</b> at all. We can <b>not guarantee the correctness</b> of this documentation.</p></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/intellij/openapi/application/ModalityStateListener.html" title="interface in com.intellij.openapi.application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/intellij/openapi/application/PathMacroContributor.html" title="interface in com.intellij.openapi.application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/intellij/openapi/application/NonBlockingReadAction.html" target="_top">Frames</a></li>
<li><a href="NonBlockingReadAction.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
